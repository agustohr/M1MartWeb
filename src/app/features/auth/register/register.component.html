<form [formGroup]="form" class="flex flex-col gap-4 mt-4" (ngSubmit)="onSubmit()">
    <div class="flex gap-4 mb-4">
        <div class="flex flex-1 relative">
            <input type="text" formControlName="username" placeholder="Username" class="border-2 border-black rounded-lg flex flex-grow p-2">
            @if (form.controls.username.touched && form.controls.username.invalid) {
                @if(form.controls.username.hasError('required')) {
                    <span class="text-red-500 absolute bottom-[-24px]">Username is required</span>
                }
            }
        </div>
        <div class="flex flex-1 relative">
            <input type="email" formControlName="email" placeholder="Email" class="border-2 border-black rounded-lg flex flex-grow p-2">
            @if (form.controls.email.touched && form.controls.email.invalid) {
                @if(form.controls.email.hasError('required')) {
                    <span class="text-red-500 absolute bottom-[-24px]">Email is required</span>
                }
                @if (form.controls.email.hasError('email')) {
                    <span class="text-red-500 absolute bottom-[-24px]">Email is invalid</span>
                }
            }
        </div>
    </div>

    <div class="flex gap-4 mb-4">
        <div class="flex flex-1 relative">
            <input type="text" formControlName="firstName" placeholder="First Name" class="border-2 border-black rounded-lg flex flex-grow p-2">
            @if (form.controls.firstName.touched && form.controls.firstName.invalid) {
                @if(form.controls.firstName.hasError('required')) {
                    <span class="text-red-500 absolute bottom-[-24px]">First Name is required</span>
                }
            }
        </div>
        <div class="flex flex-1">
            <input type="text" formControlName="lastName" placeholder="Last Name" class="border-2 border-black rounded-lg flex flex-grow p-2">
        </div>
    </div>

    <div class="flex gap-4 mb-4" formGroupName="passwordGroup">
        <div class="flex flex-1 flex-col relative">
            <input type="password" formControlName="password" placeholder="Password" class="border-2 border-black rounded-lg flex flex-grow p-2">
            @if (passwordGroup.controls.password.touched && passwordGroup.controls.password.invalid) {
                @if(passwordGroup.controls.password.hasError('required')) {
                    <span class="text-red-500 absolute bottom-[-24px]">Password is required</span>
                }
            }
        </div>
        <div class="flex flex-1 flex-col relative">
            <input type="password" formControlName="confirmPassword" placeholder="Confirm Password" class="border-2 border-black rounded-lg flex flex-grow p-2">
            @if (passwordGroup.controls.confirmPassword.touched && passwordGroup.controls.confirmPassword.invalid) {
                @if(passwordGroup.controls.confirmPassword.hasError('required')) {
                    <span class="text-red-500 absolute bottom-[-24px]">Password Confirm is required</span>
                }
              }
              @if (passwordGroup.invalid && passwordGroup.controls.confirmPassword.valid && passwordGroup.controls.password.valid) {
                @if(passwordGroup.hasError('notEqualValues')) {
                  <span class="text-red-500 absolute bottom-[-50px]">Password and Confirm Password doesn't match</span>
                }
              }
        </div>
    </div>

    <div class="flex min-w-full mt-4">
        <button type="submit" [disabled]="form.invalid" class="p-2 px-4 hover:bg-[#F4D738] bg-[#FDFD96] border-2 border-black rounded-full shadow-[3px_4px_0_2px_rgba(0,0,0,1)] flex flex-grow justify-center active:shadow-[0_0_0_0] active:transition disabled:cursor-not-allowed disabled:bg-[#FDFD96]">SIGNUP</button>
    </div>
</form>
